@import "_bulma"

::selection
  background: $color-main
  color: white

html, body
  &.has-navbar-fixed-top
    @media (max-width: 1023px)
      padding-top: 0!important
  
body
  font-family: 'Roboto', sans-serif
  color: hsl(0, 0%, 40%)

.canessa
  background: $paper

// NAVBARS & item links
.navbar
  &:not(.is-transparent)
    backdrop-filter: $backdrop
  &.top-bar
    border-bottom: 1px solid $black-bis
  &.bottom-bar
    border-top: 1px solid $black-bis
    @media (max-width: 1023px)
      height: 65px // to add more bottom space in mobile devices
    .navbar-brand
      position: relative
      .buttons:not(:last-child)
        margin-bottom: 0
        margin-left: 85px // to place "canessa icon" img
      .image
        position: absolute
        bottom: .5rem
        left: .5rem
        @media (min-width: 1024px)
          display: none

$brands: ("whatsapp": $whatsapp, "instagram": $instagram, "facebook": $facebook, "youtube": $youtube)
.navbar-item,
.aside-rrss
  &.nuxt-link-exact-active
    font-weight: 600
    opacity: .3
    cursor: text
    pointer-events: none
  &.has-logo
    padding-top: .25rem
    padding-bottom: .25rem
    opacity: 1 // to overwrite a little bug
    img
      max-height: 2.5rem
  &.copyright
    cursor: initial
    pointer-events: none
    color: $color-main
  @each $brand, $color in $brands
    &.#{$brand}
      color: $color
  @media (hover: hover)
    &:hover, &:focus
      transition: all .15s ease-in-out

@media screen and (min-width: 1024px)
  .navbar-dropdown
    font-size: 1rem

// mobile´s ASIDE navigation Menu
.navbar-burger
  width: 4rem
  &:hover
    background-color: transparent
  &:not(.is-active), &:not(.is-active):hover
    color: transparent
  span
    height: 3px
    border-radius: 3px
    color: $fucsia
    left: calc(50% - 15px)
    &:nth-child(1)
      width: 24px
      top: calc(50% - 9px)
    &:nth-child(2)
      width: 28px
    &:nth-child(3)
      width: 20px
      top: calc(50% + 7px)
  &.is-active, &.is-active:hover
    span
      color: orange
      &:nth-child(1), &:nth-child(3)
        width: 26px
      &:nth-child(1)
        transform: translateY(7px) rotate(45deg)
      &:nth-child(3)
        transform: translateY(-9px) rotate(-45deg)

.aside-navbar-menu
  position: fixed
  top: 0
  left: -260px
  z-index: 100
  width: 260px
  height: 100%
  background-color: $color-dark-opacity
  backdrop-filter: $backdrop
  overflow-y: auto
  will-change: left
  opacity: 0
  transition: all 0.5s
  visibility: hidden
  &.is-open
    opacity: 1
    visibility: visible
    transform: translateX(260px)
  .navbar-item
    font-size: 1.2rem
    letter-spacing: .02rem
  .navbar-item.nuxt-link-exact-active,
  .navbar-item.sitemap
      display: none
  @media (min-width: 1024px)
    display: none

.aside-logo
  padding: .75rem .75rem .25rem
  display: flex
  justify-content: space-between
  align-items: baseline

// HERO layout:
@media screen and (max-width: 768px)
  .hero-video
    display: initial!important
    // video
    //   top: 0
    //   left: 0
    //   transform: none

// Mosaic ("chessboard") layout in pages as:
// Servicios, Peluquería, Vanessa, Mascotactiva...
@media (min-width: 980px)
  .reflected .columns .column:first-child
    order: 2

.container
  .content figure img:not(.is-rounded)
    border-radius: 5px
  @media (min-width: 980px)
    &:not(.reflected) .content figure
      margin-right: 0
    &.reflected .content figure
      margin-left: 0
  @media (max-width: 979px)
    .content figure
      margin-right: 0
  @media (max-width: 768px)
    .content figure
      margin: 0

.th-margin
  margin-bottom: 3rem
  @media (max-width: 768px) and (min-width: 600px)
    margin-bottom: 1.5rem
  @media (max-width: 599px)
    margin-bottom: 0

.th-link
  display: inline-block
  font-family: "Roboto", sans-serif
  color: #039be5
  position: relative
  pointer-events: auto

  white-space: nowrap
  align-self: flex-start
  line-height: 40px
  margin-top: auto
  // to apply when layout changed from columns to rows
  @media screen and (max-width: 799px)
    margin-top: 20px
  
  .mdi
    padding-left: 5px
    opacity: .5
    animation: padding .25s ease

  &:focus, &:hover
    color: darken(#039be5, 8%)
    .mdi
      padding-left: 10px
      opacity: .7

  &.btn
    text-transform: inherit

  &:not(.btn)
    // (hover effect) nav link line animation
    &::before
      content: ''
      position: absolute
      background: currentColor
      width: 75%
      height: 1px
      bottom: 0
      transform-origin: 0% 50%
      transform: scale3d(0,1,1)
      opacity: 0
      transition: all 0.25s
      transition-property: opacity, transform
    &:hover::before
      opacity: 1
      transform: scale3d(1,1,1)

  + .th-link
    margin: 0 0 0 3rem

.icon
  &.th-quote.th-is-open
    position: absolute
    bottom: 10px
    left: -30px
    @media (max-width: 768px)
      bottom: 5px
      left: -20px
    z-index: 0
  &.th-quote,
  &.th-quote + em
    opacity: .3

// GRID layout to show cards / box UI items
// (lists)
.card-list,
.box-list
  display: flex
  flex-direction: row
  flex-wrap: wrap
  justify-content: flex-start
  align-items: stretch

// (items)
.card:not(.is-shady),
.box:not(.cta)
  margin: .5rem
  width: calc(33.3333% - 1rem)
  @media screen and (max-width: 899px)
    width: calc(50% - 1rem)
  @media screen and (max-width: 580px)
    width: calc(100% - 1rem)

.card,
.box
  @media (hover: hover)
    &:hover, &:focus
      box-shadow: 0 0.5em 1em -0.125em rgba(10, 10, 10, 0.2), 0 0px 0 1px rgba(10, 10, 10, 0.1)

// (modifiers)
.container .box-list
  &.has-tips
    .box:not(.cta)
      margin-bottom: .5rem
      padding: 0.66rem 1rem
  &:not(.is-small-grid)
    .image
      @media screen and (max-width: 399px)
        max-width: 200px
        max-height: 200px
        margin: 0 auto
  &.is-small-grid
    .image.block
      margin-bottom: 0
    p
      padding: .5rem .75rem
    .box:not(.cta)
      padding: 0
    @media screen and (max-width: 580px)
      margin-right: -1rem
      margin-left: -1rem
      .box:not(.cta)
        margin: .25rem
        width: calc(50% - .5rem)

// TABS layout & behaviour
.tabs-wrapper
  position: relative
  .tabs
    background-color: rgba(255,255,255,.75)
    backdrop-filter: $backdrop
    z-index: 10
    position: sticky
    top: 52px
    @media screen and (max-width: 1023px)
      top: 0

// HELPERS, overwrites, special classes...
.tag:not(body).is-dark
  color: $color-main 

.has-line-through
  text-decoration: line-through

.has-underline
  text-decoration: underline

.heading
  font-size: 1.1rem
  text-transform: initial
  letter-spacing: .01rem

.block:not(:last-child)
  margin-bottom: 1rem

@media screen and (max-width: 768px)
  .level-item
    &:not(:last-child)
      margin-bottom: 1.5rem
    .button
      min-width: 225px

.has-text-primary .th-quote .mdi::before
  color: $color-main

// PAGES custom styles
.index
  .box-list .image img
    border-top-left-radius: 6px
    border-top-right-radius: 6px

.mascotactiva
  h2.has-text-primary,
  h2.has-text-primary .th-quote .mdi::before
    color: $mascotactiva!important

.legal
  .title
    margin-top: -3rem
    text-shadow: -1px -1px 0 white, 1px -1px 0 white, -1px 1px 0 white, 1px 1px 0 white

// Blog ones
.blog
  .card-content
    h3
      line-height: 1.2
    .button
      left: -12px
      top: 2px
      background-color: transparent
  .card
    @media (hover: hover)
      &:hover, &:focus
        .card-content .button
          color: $color-main

.blog-slug
  .subtitle
    line-height: 1.25

.nuxt-content
  .icon.icon-link
    display: none
  p
    font-size: 1.1rem
    line-height: 1.5
    @media screen and (max-width: 600px)
      font-size: 1rem

// common FOOTER last block with project info
$authors: ("jalofernandez": $jalofernandez,"haztunegociodigital": $haztunegociodigital)
@each $name, $color in $authors
  .author.#{$name}
    span, small
      transition: all .15s ease
      color: $color
    @media (hover: hover)
      &:hover, &:focus
        span, small
          color: darken($color, 8%)
          text-decoration: underline

// MODAL dialog to schedule & contact info
.modal
  will-change: scale
  &.is-active
    animation: bounce-in .5s
  &:not(.is-active)
    animation: bounce-in .5s reverse
  .modal-background
    backdrop-filter: $backdrop
  .modal-card
    background: $paper

@keyframes bounce-in
  0%
    transform: scale(0)
  50%
    transform: scale(1.2)
  100%
    transform: scale(1)

// Animations
.canessa-transition-enter-active
  transition: all .3s ease

.canessa-transition-leave-active
  transition: all .5s cubic-bezier(1.0, 0.5, 0.8, 1.0)

.canessa-transition-enter,
.canessa-transition-leave-to
  transform: translateX(10px)
  opacity: 0

// VIDEO section layout
@mixin coverer
  width: 100vw
  height: 100vh
  position: absolute
  top: 0
  left: 0

.video-header
  position: absolute
  text-align: center
  width: 100vw
  height: 100vh
  &, video, .viewport-header
    @include coverer
  @media screen and (min-width: 1024px)
    top: 53px // same as top navbar height to avoid overlapin´

  video
    object-fit: cover
  
  .viewport-header
    display: flex
    align-items: center
    justify-content: center
    z-index: 5

.video-header-title
  color: white
  text-transform: uppercase
  // letter-spacing: 3vw
  line-height: 1.2
  font-size: 3vw
  text-align: center
  span
    display: block
    font-size: 6vw
    letter-spacing: -0.3vw
    text-shadow: 1px 1px 2px #000, 0 0 5px #000, 0 0 5px #000
    opacity: .75
  @media screen and (max-width: 380px)
    font-size: 5vw
    span
      font-size: 10vw

.is-below-video
  position: relative
  margin-top: 100vh
  &::before
    content: ""
    @include coverer
    top: -100vh

// "ScrollDownItem" layout component
.mouse-scroll
  cursor: pointer
  display: block
  width: 24px
  height: 100px
  margin: 3rem auto 0
  @media screen and (max-width: 380px)
    margin-top: 1rem

.scroll-arrow
  display: block
  width: 5px
  height: 5px
  transform: rotate(45deg)
  border-right: 2px solid white
  border-bottom: 2px solid white
  margin: 0 0 3px 4px
  width: 16px
  height: 16px

.arrow-1
  margin-top: 1px
  animation: mouse-scroll 1s infinite
.arrow-2, .arrow-3
  animation: mouse-scroll 1s infinite

.arrow-1
  animation-direction: alternate
  animation-delay: alternate
.arrow-2
  animation-delay: .2s
  animation-direction: alternate
  margin-top: -6px
.arrow-3
  animation-delay: .3s
  animation-direction: alternate
  margin-top: -6px

.mouse
  height: 42px
  width: 24px
  border-radius: 14px
  transform: none
  border: 2px solid white
  top: 170px

.wheel
  height: 5px
  width: 2px
  display: block
  margin: 5px auto
  background: white
  position: relative
  height: 4px
  width: 4px
  border: 2px solid #fff
  border-radius: 8px
  animation: mouse-wheel 0.6s linear infinite

@keyframes mouse-wheel
  0%
    top: 1px
  25%
    top: 2px
  50%
    top: 3px
  75%
    top: 2px
  100%
    top: 1px

@keyframes mouse-scroll
  0%
    opacity: 0
  50%
    opacity: .5
  100%
    opacity: 1

// COOKIES banner
.main-wrapper
  &:not(.is-scrolling) .is-cookies-banner
    max-width: 285px
  &.is-scrolling .is-cookies-banner
    max-width: 240px

.is-cookies-banner
  z-index: 99 // highest one less Aside mobile´s menu
  position: fixed
  bottom: 60px
  @media screen and (max-width: 1023px)
    bottom: 72px // to place ir higher cause mobile´s bottom navbar height
  right: 8px
  background-color: rgba(white, .65)
  backdrop-filter: $backdrop
  border-radius: 4px
  // transition: all .3s ease-in-out
  margin: 0!important // to overwrite "box" element one
  padding: .5rem
  line-height: 1.33
  b
    letter-spacing: 0.01rem
  .tag
    cursor: pointer
    @media (hover: hover)
      &:hover, &:focus
        background-color: darken($color-main, 8%)
